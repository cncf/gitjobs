{% extends "base.html" %}

{% block main %}
  <div class="container max-w-lg m-auto px-2 py-28">
    <div class="bg-white p-10 border rounded-lg">
      <form action="/log-in{%- if let Some(next_url) = next_url -%}?next_url={{ next_url }}{%- endif -%}"
            method="post"
            class="max-w-sm mx-auto">
        <div class="text-2xl mb-10">Log In</div>
        <div class="mb-5">
          <label for="username" class="block mb-2 text-sm font-medium text-gray-900">Username</label>
          <input type="text"
                 id="username"
                 name="username"
                 class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-primary-600 sm:text-sm/6"
                 required />
        </div>
        <div class="mb-5">
          <label for="password" class="block mb-2 text-sm font-medium text-gray-900">Password</label>
          <input type="password"
                 id="password"
                 name="password"
                 class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-primary-600 sm:text-sm/6"
                 required />
        </div>
        <button type="submit"
                class="bg-primary-700 px-3 py-2 w-full text-sm font-semibold text-white rounded-md hover:bg-primary-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600">
          Submit
        </button>

        {# GitHub login #}
        <a href="/log-in/oauth2/github?{%- if let Some(next_url) = next_url -%}next_url={{ next_url }}{%- endif -%}"
           class="block mt-5 bg-primary-700 px-3 py-2 w-full text-sm font-semibold text-center text-white rounded-md hover:bg-primary-900 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-600">
          Log In with GitHub
        </a>
        {# End GitHub login #}

        <div class="mt-5">
          Don't have an account? <a href="/sign-up{%- if let Some(next_url) = next_url -%}?next_url={{ next_url }}{%- endif -%}"
    class="text-primary-700 hover:text-primary-900">Sign up</a>.
        </div>
      </form>

      {# Messages #}
      {% if messages.len() > 0 %}
        <div class="p-4 mt-10 text-md max-w-sm mx-auto text-red-800 rounded-lg bg-red-50"
             role="alert">
          {% for message in messages %}<p>{{ message }}</p>{% endfor %}
        </div>
      {% endif %}
      {# End messages #}
    </div>
  </div>
{% endblock main %}
