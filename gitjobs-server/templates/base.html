<!DOCTYPE html>
<html lang="en"
      class="h-full min-h-screen has-[div[role='dialog'][data-open='true']]:overflow-hidden">
  <head>
    <title>GitJobs</title>
    <meta name="description"
          content="GitJobs is an open source job board focused on open source job opportunities.">
    <meta name="keywords" content="community, organization, jobs, job">
    <meta property="og:type" content="website">
    <meta property="og:title" content="GitJobs">
    <meta property="og:description"
          content="GitJobs is an open source job board focused on open source job opportunities.">
    <meta property="og:image"
          content="https://gitjobs.dev/static/images/index/gitjobs.png">
    <link rel="icon"
          href="https://gitjobs.dev/static/images/index/favicon.ico"
          sizes="any">
    <link rel="icon"
          href="https://gitjobs.dev/static/images/index/favicon.svg"
          sizes="any"
          type="image/svg+xml">
    <link rel="apple-touch-icon"
          href="https://gitjobs.dev/static/images/index/apple-touch-icon.png">
    <meta charset="UTF-8" />
    <meta name="viewport"
          content="width=device-width, initial-scale = 1, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#f9fafb" />
    <meta name="htmx-config" content='{"includeIndicatorStyles": false}'>

    <link rel="stylesheet" href="/static/css/styles.css" />
    <link rel="stylesheet" href="/static/vendor/css/easymde.v2.20.0.min.css" />

    <script type="text/javascript" src="/static/vendor/js/htmx.v2.0.4.min.js"></script>
    <script src="/static/vendor/js/easymde.v2.20.0.min.js"></script>
    <script src="/static/vendor/js/sweetalert2.v11.17.2.min.js" async defer></script>

    <script type="text/javascript">
      // htmx extension to remove empty values from the parameters
      htmx.defineExtension("no-empty-vals", {
        encodeParameters: (xhr, parameters, elt) => {
          const currentParameters = new URLSearchParams(parameters);

          for (const key of [...currentParameters.keys()]) {
            const value = currentParameters.get(key).trim();
            // Remove empty values or "0"
            if (value === "" || value === "0") {
              parameters.delete(key);
            }
          }

          // Let HTMX encode the parameters
          return null;
        }
      });
    </script>
    <script type="module">
      import {
        toggleModalVisibility
      } from '/static/js/common/common.js';

      window.addEventListener("popstate", (event) => {
        if (event.state && event.state.modal_preview !== undefined) {
          if (event.state.modal_preview) {
            toggleModalVisibility('preview-modal', "open");
          } else {
            toggleModalVisibility('preview-modal', "close");
          }
        } else {
          if (document.getElementById('preview-modal').dataset.open === "true") {
            toggleModalVisibility('preview-modal', "close");
          }
        }
      });
    </script>
  </head>
  <body class="flex flex-col h-screen font-inter bg-stone-100"
        hx-get
        hx-trigger="refresh-body">
    {% block content %}
    {% endblock content %}
  </body>
</html>
